{"version":3,"sources":["api.js","myFunctions.js","AddPortfolioModal.js","EvolutionGraph.js","PortfolioTableRow.js","RemoveSelectedBtn.js","PortfolioTable.js","AddStockModal.js","Portfolio.js","dataFunctions.js","App.js","index.js"],"names":["TOKEN","BASE_URL","BASE_URL_DATE","urlBuilder","stockSymbols","type","chartRange","url","i","length","includes","ran","builder","urlBuilderDate","stockSymbol","yyyymmdd","builderDate","dateToChartRange","isoPurchaseDate","purchaseDate","Date","todayDate","dayDiff","Math","ceil","janFirst","toISOString","slice","ytdDiff","compareFunctionWName","a","b","name","loadFromLocalStorage","objName","data","JSON","parse","localStorage","getItem","Error","loader","saveToLocalStorage","obj","setItem","stringify","console","log","saver","AddPortfolioModal","props","state","newPortfolioName","inputError","submitError","handleOnSubmit","bind","handleOnChange","handleOnCancel","event","preventDefault","portfolios","this","setState","onAdd","target","value","onCancel","show","onSubmit","onChange","required","onClick","React","Component","EvolutionGraph","random","toFixed","toString","graphRange","days","replace","dateToday","setDate","getDate","months","setMonth","getMonth","years","setFullYear","getFullYear","stocks","showInEuro","euroPerUsd","datesInData","stockNames","graphRangeLimitDate","graphRangeToDate","stock","hasOwnProperty","push","chart","chartKey","close","Number","date","idx","indexOf","dataEntry","sort","aspect","width","height","strokeDasharray","dataKey","map","stockName","key","stroke","generateHslColor","activeDot","r","dot","PureComponent","PortfolioTableRow","handleCheckedChange","e","onRowCheckedChange","stockData","stockInfo","checked","latestPrice","quote","shares","purchase","purchasePrice","price","purchaseCurrency","currency","RemoveSelectedBtn","selections","PortfolioTable","selectedRows","handleRowCheckedChange","rows","AddStockModal","hasErrors","errorMessage","loading","handleOnsubmit","handleCancel","puchasePriceFetcher","then","fetchedPrice","toUpperCase","stockError","dateError","min","isoDate","apiUrl","fetch","response","ok","json","status","jsonData","catch","error","message","rangeOptions","text","Portfolio","showAddStockModal","handleToggleShowInEuro","handleOnUpdate","handleToggleShowAddStockModal","handleAddStock","onToggleShowInEuro","onUpdate","onAddStock","portfolio","userPrefs","isUpdating","defaultValue","entry","minimizeDataStocksOnly","appData","portfolioName","Object","keys","chartData","DEFAULT_USER_PREFS","App","showAddPortfolioModal","toggleShowAddPortfolioModal","handleAddPortfolio","dataFetcher","minimizeData","className","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fe7195cd.chunk.js","sourcesContent":["const TOKEN = 'Tpk_564e31a7cc054b8c87a93c668202adce';\nconst BASE_URL = 'https://sandbox.iexapis.com/stable/stock/market/batch?';\nconst BASE_URL_DATE = 'https://sandbox.iexapis.com/stable/stock/';\n\nfunction builder(stockSymbols, type, chartRange) {\n    /*\n    Builds the url for fetching stock data from api.\n    - symbolsArr is an array of stock symbols as strings.\n    - range is the timespan as string that should be fetched (1d, 5d, 1m, ...).\n    - type is 'quote' or 'chart'\n     */\n    let url = BASE_URL;\n    const sym = 'symbols=';\n    const typ = '&types=';\n    const ran = '&range=';\n    const fallbackRange = '1y';\n    const tok = '&token=';\n\n    // Append symbols to the url\n    url += sym;\n    for (let i=0; i<stockSymbols.length; i++) {\n        url += stockSymbols[i];\n        // Append ',' after symbol except after last one\n        if (i < stockSymbols.length - 1) {\n            url += ',';\n        }\n    }\n    // Append types to the url\n    url += typ + type;\n    // Append range to the url\n    if (type.includes('chart')) {\n        if (chartRange) { url += ran + chartRange }\n        else { url += ran + fallbackRange }  // Use fallbackRange if no range was provided\n    }\n    // Append token to the url\n    url += tok + TOKEN;\n\n    return url;\n}\n\nfunction builderDate(stockSymbol, yyyymmdd) {\n    /*\n    Builds an url for fetching stock price at a specific date.\n     */\n    let url = BASE_URL_DATE;\n\n    url += stockSymbol;\n    url += '/chart/date/';\n    url += yyyymmdd;\n    url += '?chartByDay=true&token=';\n    url += TOKEN;\n\n    return(url)\n}\n\nexport const urlBuilder = (stockSymbols, type, chartRange) => {\n  return builder(stockSymbols, type, chartRange);\n};\n\nexport const urlBuilderDate = (stockSymbol, yyyymmdd) => {\n    return builderDate(stockSymbol, yyyymmdd);\n};\n","function loader(objName) {\n    /*\n    Loads an JSON object from local storage. Throws error if not found (data=null)\n     */\n    let data = JSON.parse(localStorage.getItem(objName));\n    // Check if null\n    if (!data) {\n        throw new Error(\"Did not find '\" + objName + \"' in local storage\");\n    }\n    return data;\n}\n\nfunction saver(obj, objName) {\n    /*\n    Saves an JSON object to local storage.\n     */\n    localStorage.setItem(objName, JSON.stringify(obj));\n    console.log(\"==> Saved to local storage '\" + objName + \"'\");\n}\n\nexport function dateToChartRange(isoPurchaseDate) {\n    const purchaseDate = new Date(isoPurchaseDate);\n    const todayDate = new Date();\n    const dayDiff = Math.ceil((todayDate - purchaseDate) / (1000 * 60 * 60 * 24));  // Ceil ensures enough days\n    const janFirst = new Date(new Date().toISOString().slice(0,4));  // new Date(\"2019\") returns 1 Jan 2019\n    const ytdDiff = Math.ceil((todayDate - janFirst) / (1000 * 60 * 60 * 24));  // Days since Jan 1 (at most 365)\n\n\n    // graphRange options are 5d, 1m, 3m, 6m, ytd, 1y, 2y, 5y, max\n    let chartRange = \"\";\n\n    if (dayDiff < 5) {\n        // 5 days is enough\n        chartRange = \"5d\";\n        if (ytdDiff < 5) {chartRange = \"ytd\"}\n    }\n    else if (dayDiff < 32) {\n        // 1 month is enough\n        chartRange = \"1m\";\n        if (ytdDiff < 32) {chartRange = \"ytd\"}\n    }\n    else if (dayDiff < 94) {\n        // 3 months is enough\n        chartRange = \"3m\";\n        if (ytdDiff < 94) {chartRange = \"ytd\"}\n    }\n    else if (dayDiff< 168) {\n        chartRange = \"6m\";\n        if (ytdDiff < 168) {chartRange = \"ytd\"}\n    }\n    else if (dayDiff < 367) {\n        chartRange = \"1y\";\n        if (ytdDiff < 367) {chartRange = \"ytd\"}\n    }\n    else if (dayDiff < 732) {\n        chartRange = \"2y\";\n    }\n    else if (dayDiff < 1828) {\n        chartRange = \"5y\";\n    }\n    else {\n        chartRange = \"max\"\n    }\n\n    return chartRange;\n}\n\nexport function compareFunctionWName(a, b) {\n    if (a.name < b.name) {return -1}\n    if (a.name > b.name) {return 1}\n    return 0;\n}\n\nexport function compareFunctionWDate(a, b) {\n    if (a.date < b.date) {return -1}\n    if (a.date > b.date) {return 1}\n    return 0;\n}\n\nexport const loadFromLocalStorage = (objName) => {\n  return loader(objName);\n};\n\nexport const saveToLocalStorage = (obj, objName) => {\n    return saver(obj, objName);\n};","import React from \"react\";\n\nexport class AddPortfolioModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newPortfolioName: \"\",\n            inputError: \"\",\n            submitError: \"\",\n        };\n        this.handleOnSubmit = this.handleOnSubmit.bind(this);\n        this.handleOnChange = this.handleOnChange.bind(this);\n        this.handleOnCancel = this.handleOnCancel.bind(this);\n    }\n    handleOnSubmit(event) {\n        event.preventDefault();\n        // Validate that the name is unique set state and submit\n        const portfolios = this.props.portfolios;\n        const newPortfolioName = this.state.newPortfolioName;\n        if (portfolios.includes(newPortfolioName)) {\n            this.setState({ submitError: \"Pick another name for your portfolio\" })\n        }\n        else {\n            // Reset state\n            this.setState({\n                newPortfolioName: \"\",\n                submitError: \"\"\n            });\n            // Pass newPortfolioName to parent\n            this.props.onAdd(newPortfolioName);\n        }\n    }\n    handleOnChange(event) {\n        // Validate that the name is unique and set state\n        const portfolios = this.props.portfolios;\n        const newPortfolioName = event.target.value;\n        if (portfolios.includes(newPortfolioName)) {\n            this.setState({\n                newPortfolioName: event.target.value,\n                inputError: \"You have another portfolio with this name\"\n            })\n        }\n        else {\n            this.setState({\n                newPortfolioName: event.target.value,\n                inputError: \"\",\n                submitError: \"\"\n            })\n        }\n    }\n    handleOnCancel() {\n        this.setState({\n            newPortfolioName: \"\",\n            inputError: \"\",\n            submitError: \"\",\n        });\n        this.props.onCancel();\n    }\n    render() {\n        if (!this.props.show) {\n            // Should render nothing in the future\n            return <p>Modal hidden</p>;\n        }\n        return (\n            <div>\n                <p>Modal visible</p>\n                <form onSubmit={this.handleOnSubmit}>\n                    <label>\n                        Portfolio name\n                        <input type=\"text\" value={this.state.newPortfolioName} onChange={this.handleOnChange} required/>\n                    </label>\n                    <p>{this.state.inputError}</p>\n                    <p>{this.state.submitError}</p>\n                    <input type=\"submit\" value=\"Add\" />\n                    <button onClick={this.handleOnCancel}>Cancel</button>\n                </form>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport {LineChart, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Line, ResponsiveContainer} from \"recharts\";\nimport {compareFunctionWName, dateToChartRange} from \"./myFunctions\";\n\nexport class EvolutionGraph extends React.PureComponent{\n\n    // Move these two functions to myfunctions.js\n    generateHslColor() {\n        // Generate random hsl color. Ensures the color is visible on the chart\n        const hue = (Math.random() * 360).toFixed(0).toString();\n        const saturation = \"40%\";\n        const lightness = \"70%\";\n        return \"hsl(\" + hue + \",\" + saturation + \",\" + lightness + \")\";\n    }\n    graphRangeToDate(graphRange) {\n        // graphRange options are 5d, 1m, 3m, 6m, ytd, 1y, 2y, 5y, max\n        if (graphRange.includes(\"d\")) {\n            const days = graphRange.replace(\"d\", \"\");\n            const dateToday = new Date();\n            // Set the date to 'days' number of days in the past and return the new date\n            return new Date(new Date().setDate(dateToday.getDate() - days));\n        }\n        if (graphRange.includes(\"m\")) {\n            const months = graphRange.replace(\"m\", \"\");  // 1m, 3m, 6m\n            const dateToday = new Date();\n            // Set the date to 'months' number of months in the past and return the new date\n            return new Date(new Date().setMonth(dateToday.getMonth() - months));\n        }\n        if (graphRange.includes('ytd')) {\n            // Return a Date object set to 1 Jan of the current year\n            return new Date(new Date().toISOString().slice(0,4));  // new Date(\"2019\") returns 1 Jan 2019\n        }\n        if (graphRange.includes(\"y\")) {\n            const years = graphRange.replace(\"y\", \"\");\n            const dateToday = new Date();\n            // Set the date to 'years' number of years in the past and return the new date\n            return new Date(new Date().setFullYear(dateToday.getFullYear() - years));\n        }\n        if (graphRange.includes('max')) {\n            const years = 500;\n            const dateToday = new Date();\n            // Set the date 500 years in the past and return the new date\n            return new Date(new Date().setFullYear(dateToday.getFullYear() - years));\n        }\n    }\n\n    render() {\n        const stocks = this.props.stocks;\n        const graphRange = this.props.graphRange;\n        const showInEuro = this.props.showInEuro;\n        const euroPerUsd = this.props.euroPerUsd;\n\n        const data = [];\n        let datesInData = [];\n        let stockNames = [];\n\n        // Translate 'graphRange' to number of days\n        const graphRangeLimitDate = this.graphRangeToDate(graphRange);\n\n        // Populate 'data' and 'stockNames' with data in the correct format for the LineChart component\n        for (let stock in stocks) {  // stocks = {aapl: {...}, fb: {...}, ...}\n            if (stocks.hasOwnProperty(stock)) {\n                stockNames.push(stock);\n\n                const chart = stocks[stock].chart;\n                for (let chartKey in chart) {  // chart = {0: {date: --, close: --}, 1: {date: --, close: --}, ...}\n                    if (chart.hasOwnProperty(chartKey)) {\n                        // Close value in correct currency\n                        let close = 0;\n                        if (showInEuro) {\n                            close = Number((chart[chartKey].close * euroPerUsd).toFixed(2));  // .toFixed(2) without casting to Number causes the chart to scale incorrectly (if there are problems in the future).\n                        }\n                        else {\n                            close = chart[chartKey].close\n                        }\n\n                        // Date\n                        const date = chart[chartKey].date;\n\n                        // Filter the dates for the graph (LineChart)\n                        if (new Date(date) >= graphRangeLimitDate) {\n                            // Check if date exist in data\n                            if(!datesInData.includes(date)) {\n                                // Keeping track of what dates are already in data. Easier and faster this way than iterating data\n                                datesInData.push(date);\n\n                                // Create new entry in data. Add first stock's close value\n                                const dataEntry = {};\n                                dataEntry[\"name\"] = date;\n                                dataEntry[stock] = close;  // { name: \"2019-12-16\", FB: 205.12 }\n                                data.push(dataEntry);  // [{ name: \"2019-12-16\", FB: 205.12 }, ...]\n                            }\n                            else {\n                                // The date does already exist in data.\n                                // Add the stocks value to an already existing entry.\n\n                                // data is an array so the values/entries have fixed order.\n                                // the values/entries in data has the exact same order as the dates in datesInData\n                                // (this is because they are added by the above if statement)\n                                const idx = datesInData.indexOf(date);\n                                let dataEntry = data[idx];\n                                dataEntry[stock] = close;\n                                data[idx] = dataEntry;  // keeps the order intact\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        // Sort data. Recharts assumes the data is ordered.\n        data.sort(compareFunctionWName);\n\n        return (\n            // Responsive container makes the chart adapt to the sise of the parent container\n            // margin={{top:5, right: 30, left: 20, bottom: 5}}\n            // use type=\"monotone\" in Line to make the graph smooth\n            <div>\n                <ResponsiveContainer aspect={1.7} width={500}>\n                    <LineChart width=\"100%\" height=\"100%\" data={data}>\n                        <CartesianGrid strokeDasharray=\"1 3\"/>\n                        <XAxis dataKey=\"name\"/>\n                        <YAxis/>\n                        <Tooltip/>\n                        <Legend/>\n                        {stockNames.map(stockName =>\n                            <Line\n                                key={stockName}\n\n                                dataKey={stockName}\n                                stroke={this.generateHslColor()}\n                                activeDot={{ r: 4 }}\n                                dot={false}\n                            />\n                            )\n                        }\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        )\n    }\n}","import React from \"react\";\nexport class PortfolioTableRow extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleCheckedChange = this.handleCheckedChange.bind(this);\n    }\n\n    handleCheckedChange(e) {\n        this.props.onRowCheckedChange(e);  // e.target.checked, e.target.name checked = true/false, name = AAPL , FB,...\n    }\n\n    render() {\n        const stock = this.props.stock;\n        const stockData = this.props.stockInfo;\n        const showInEuro = this.props.showInEuro;\n        const euroPerUsd = this.props.euroPerUsd;\n        const checked = this.props.checked;\n\n        const latestPrice = stockData.quote.latestPrice;\n        const shares = stockData.purchase.shares;\n        const purchasePrice = stockData.purchase.price;\n        const purchaseCurrency = stockData.purchase.currency;\n\n        // See Thinking in react for handling the input button\n        return (\n            <tr>\n                <td>{stock}</td>\n                <td>{showInEuro ? (latestPrice * euroPerUsd).toFixed(2) + \" EUR\" : latestPrice + \" USD\"}</td>\n                <td>{purchasePrice} {purchaseCurrency}</td>\n                <td>{shares}</td>\n                <td>{showInEuro ? (latestPrice * shares * euroPerUsd).toFixed(2) + \" EUR\" : (latestPrice * shares).toFixed(2) + \" USD\"}</td>\n                <td><input name={stock} type=\"checkbox\" checked={checked} onChange={this.handleCheckedChange}/></td>\n            </tr>\n        );\n    }\n}","import React from \"react\";\n\nexport class RemoveSelectedBtn extends React.Component {\n    render() {\n        const selections = this.props.selections;\n        return (\n            <button>Remove selected stocks</button>\n        )\n    }\n}","import React from \"react\";\nimport {PortfolioTableRow} from \"./PortfolioTableRow\";\nimport {RemoveSelectedBtn} from \"./RemoveSelectedBtn\";\n\nexport class PortfolioTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // *******************************************************\n            // NOTE: This is a derived state and should not be used.\n            // https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\n            // Atm i will continue with this and review it later.\n            // Using double negation will convert undefined/null to\n            // false and temporarily fix the problem of the state not\n            // being set at the initial render when passing\n            // checked={!!this.state.selectedRows[stock]} to the\n            // component <PortfolioTableRow/>\n            // *******************************************************\n            selectedRows: [],  // [AAPL: true, FB: false, TWTR: true, ...]\n        };\n        this.handleRowCheckedChange = this.handleRowCheckedChange.bind(this);\n    }\n\n    componentDidMount() {\n        // Populate initial state after component mount. Set all rows not checked.\n        const stocks = this.props.stocks;\n        let selectedRows = [];\n        for (let stock in stocks) {\n            if (stocks.hasOwnProperty(stock)) {\n                selectedRows[stock] = false;\n            }\n        }\n        this.setState({ selectedRows: selectedRows });\n    }\n\n    handleRowCheckedChange(event) {\n        // Extract stock name and whether the <input ... /> is checked\n        const stock = event.target.name;  // event.target is the <input ... /> element in PortfolioTableRow\n        const checked = event.target.checked;\n\n        // Update the state\n        let selectedRows = this.state.selectedRows;\n        selectedRows[stock] = checked;\n        this.setState({ selectedRows: selectedRows });\n    }\n\n    render() {\n        const stocks = this.props.stocks;\n        const showInEuro = this.props.showInEuro;\n        const euroPerUsd = this.props.euroPerUsd;\n\n        let rows = [];\n        for (let stock in stocks) {\n            if (stocks.hasOwnProperty(stock)) {\n                rows.push(\n                    <PortfolioTableRow\n                        key={stock}\n                        stock={stock}\n                        stockInfo={stocks[stock]}\n                        showInEuro={showInEuro}\n                        euroPerUsd={euroPerUsd}\n                        checked={!!this.state.selectedRows[stock]}\n                        onRowCheckedChange={this.handleRowCheckedChange}\n                    />\n                );\n            }\n        }\n\n        return (\n            <div>\n                <RemoveSelectedBtn selections={this.state.selections} />\n                <table>\n                    <thead>\n                    <tr>\n                        <th>Stock</th>\n                        <th>Latest Price</th>\n                        <th>Purchase Price</th>\n                        <th>Shares</th>\n                        <th>Total</th>\n                        <th>Select</th>\n                    </tr>\n                    </thead>\n                    <tbody>{rows}</tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React from \"react\";\nimport {urlBuilderDate} from \"./api\";\n\nexport class AddStockModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            stockSymbol: \"\",\n            purchaseDate: \"\",\n            shares: \"\",\n            hasErrors: false,\n            errorMessage: \"\",\n            loading: false,\n        };\n        this.handleOnsubmit = this.handleOnsubmit.bind(this);\n        this.handleOnChange = this.handleOnChange.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n    }\n    handleOnsubmit(event) {\n        event.preventDefault();\n\n        const stockSymbol = this.state.stockSymbol;\n        const purchaseDate = this.state.purchaseDate;\n        const shares = this.state.shares;\n\n        console.log(\"==> Adding stock '\" + stockSymbol + \"'\");\n\n        let purchasePrice = null;\n        this.setState(\n            { loading: true },\n            () => {\n                // Fetch purchase price from API\n                let puchasePriceFetcher = this.puchasePriceFetcher(stockSymbol, purchaseDate);  // Returns a promise\n                puchasePriceFetcher.then(fetchedPrice => {\n                    if (!this.state.hasErrors) {\n                        purchasePrice = fetchedPrice;\n                        this.props.onAdd(stockSymbol, purchaseDate, purchasePrice, shares);\n                    }\n                    this.setState({\n                        hasErrors: false,\n                        loading: false,\n                    });\n                })\n                // Errors are already caught in purchasePriceFetcher so no need to do it here\n            }\n        );\n\n    }\n    handleOnChange(event) {\n        if (event.target.name === \"stockSymbol\") {\n            this.setState({ stockSymbol: event.target.value.toUpperCase() });\n        }\n        if (event.target.name === \"purchaseDate\") {\n            this.setState({ purchaseDate: event.target.value })\n        }\n        if (event.target.name === \"shares\") {\n            this.setState({ shares: event.target.value })\n        }\n    }\n    handleCancel() {\n        // Reset state\n        this.setState({\n            stockSymbol: \"\",\n            purchaseDate: \"\",\n            stockError: \"\",\n            dateError: \"\",\n        });\n        // Action\n        this.props.onCancel();\n    }\n    render() {\n        if (!this.props.show) {\n            // TODO: Should render nothing in the future\n            return <p>Modal hidden</p>\n        }\n        if (this.state.loading) {\n            // Loading while fetching data\n            return (\n                <p>Loading ...</p>\n            )\n        }\n        return (\n            <div>\n                <p>Modal visible</p>\n                <form onSubmit={this.handleOnsubmit}>\n                    <label>\n                        Stock symbol\n                        <input type=\"text\" name=\"stockSymbol\" value={this.state.stockSymbol} onChange={this.handleOnChange} required/>\n                    </label>\n                    <label>\n                        Date of purchase\n                        <input type=\"date\" name=\"purchaseDate\" value={this.state.purchaseDate} onChange={this.handleOnChange} required/>\n                    </label>\n                    <label>\n                        Number of shares\n                        <input type=\"number\" min=\"1\" name=\"shares\" value={this.state.shares} onChange={this.handleOnChange} required/>\n                    </label>\n                    <input type=\"submit\" value=\"Add\"/>\n                </form>\n                <p>{this.state.errorMessage}</p>\n                <button onClick={this.handleCancel}>Cancel</button>\n            </div>\n        )\n    }\n    puchasePriceFetcher(stockSymbol, isoDate) {\n        // isoDate should be of format YYYY-MM-DD as returned by the <input type=\"date />\n        const yyyymmdd = isoDate.replace(/-/g, \"\");\n        const apiUrl = urlBuilderDate(stockSymbol, yyyymmdd);\n\n        return fetch(apiUrl)\n            .then(response => {\n                // \"Parse\" json\n                if (response.ok) {\n                    // API returns an empty json if the stock symbol is valid but there is no available data.\n                    return response.json()  // returns 'undefined' if json from api is empty\n                }\n                if (response.status === 404) {\n                    // API throws 404 if stock symbol is unknown\n                    throw new Error(\"Unknown stock symbol\");\n                }\n                else {\n                    // All other errors\n                    throw new Error(\"Error while fetching from api ...\");\n                }\n            })\n            .then(jsonData => {\n                // The API returns an empty json if the stock symbol is valid but there is no available data.\n                if (jsonData.length > 0) {\n                    return jsonData[0].close;\n                }\n                else {\n                    throw new Error(\"No available stock data for that date. Either the exchange was closed that day (e.g. weekend) or the date is too far in the past.\");\n                }\n            })\n            .catch(error => {\n                // Handle errors\n                console.log(\"==>\", error.message);\n                this.setState({\n                    hasErrors: true,\n                    errorMessage : error.message\n                });\n            })\n    }\n}","import React from \"react\";\nimport {EvolutionGraph} from \"./EvolutionGraph\";\nimport {PortfolioTable} from \"./PortfolioTable\";\nimport {AddStockModal} from \"./AddStockModal\";\n\nconst rangeOptions = [\n    {value: \"5d\", text: \"5 days\",},\n    {value: \"1m\", text: \"1 month\"},\n    {value: \"3m\", text: \"3 months\"},\n    {value: \"6m\", text: \"6 months\"},\n    {value: \"ytd\", text: \"This year\"},\n    {value: \"1y\", text: \"1 year\"},\n    {value: \"2y\", text: \"2 years\"},\n    {value: \"5y\", text: \"5 years\"},\n    {value: \"max\", text: \"Maximum available\"}\n];\nconst euroPerUsd = 0.90;  // Later change this to API call\n\nexport class Portfolio extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showAddStockModal: false,\n        };\n        this.handleToggleShowInEuro = this.handleToggleShowInEuro.bind(this);\n        this.handleOnUpdate = this.handleOnUpdate.bind(this);\n        this.handleToggleShowAddStockModal = this.handleToggleShowAddStockModal.bind(this);\n        this.handleAddStock = this.handleAddStock.bind(this);\n    }\n    handleToggleShowInEuro(event) {\n        this.props.onToggleShowInEuro(event);\n    }\n    handleOnUpdate(event) {\n        // Send portfolio's name to the parent function\n        this.props.onUpdate(event.target.name);\n    }\n    handleToggleShowAddStockModal() {\n        this.setState({ showAddStockModal: !this.state.showAddStockModal });\n    }\n    handleAddStock(stockSymbol, purchaseDate, purchasePrice, shares) {\n        this.handleToggleShowAddStockModal();\n        this.props.onAddStock(this.props.name, stockSymbol, purchaseDate, purchasePrice, shares);\n    }\n    render() {\n        // Prevent errors when initial (and maybe also other asynchronous) render happen before userPrefs and name are set in appData.\n        if (typeof this.props.name === 'undefined' ||\n            typeof this.props.portfolio === 'undefined' ||\n            typeof this.props.portfolio.userPrefs === 'undefined'\n        ) {\n            return <p>Loading ...</p>\n        }\n        // Props\n        const name = this.props.name;\n        const portfolio = this.props.portfolio;\n        const isUpdating = this.props.isUpdating;\n        // \"Refined\" props\n        const stocks = portfolio.stocks;\n        const showInEuro = portfolio.userPrefs.showInEuro;\n        const graphRange = portfolio.userPrefs.graphRange;\n\n\n        // For handling button press read https://reactjs.org/docs/handling-events.html\n\n        return (\n            <div>\n                <h2>{name}</h2>\n                <button\n                    name={name}\n                    onClick={this.handleToggleShowInEuro}>\n                    {showInEuro ? \"USD\" : \"EUR\" }\n                </button>\n                <button\n                    name={name}\n                    onClick={this.handleOnUpdate}>\n                    {isUpdating ? \"Fetching ...\" : \"Update\"}\n                </button>\n                <div>\n                    <EvolutionGraph\n                        stocks={stocks}\n                        graphRange={graphRange}\n                        showInEuro={showInEuro}\n                        euroPerUsd={euroPerUsd}\n                    />\n                    <select defaultValue={graphRange}>\n                        {rangeOptions.map(entry => {\n                            return <option\n                                key={entry.value}\n                                value={entry.value}>\n                                {entry.value}\n                            </option>\n                        })}\n                    </select>\n                </div>\n                <button\n                    onClick={this.handleToggleShowAddStockModal}>\n                    Add stock\n                </button>\n                <AddStockModal\n                    show={this.state.showAddStockModal}\n                    onCancel={this.handleToggleShowAddStockModal}\n                    onAdd={this.handleAddStock}>\n                    \"I am a child of this modal\"\n                </AddStockModal>\n                <PortfolioTable\n                    stocks={stocks}\n                    showInEuro={showInEuro}\n                    euroPerUsd={euroPerUsd}\n                />\n                <button>\n                    Remove portfolio\n                </button>\n            </div>\n        );\n    }\n}","// TODO: reuse code\n\nexport function minimizeData(stockData, appData, portfolioName, purchaseDate, purchasePrice, shares) {\n    // Clean data fetched from API for a smaller storage footprint\n\n    const stockSymbol = Object.keys(stockData)[0];\n\n    // Get only the necessary quote data\n    let quote = {};\n    quote[\"companyName\"] = stockData[stockSymbol].quote[\"companyName\"];\n    quote[\"latestPrice\"] = stockData[stockSymbol].quote[\"latestPrice\"];\n\n    // Get only the necessary chart data\n    let chart = {};\n    const chartData = stockData[stockSymbol].chart;\n    for (let key in chartData) {\n        if (chartData.hasOwnProperty(key)) {\n            chart[key] = {\"date\": chartData[key].date, \"close\": chartData[key].close};\n        }\n    }\n\n    // Purchase info\n    const purchase = {date: purchaseDate, price: purchasePrice, shares: shares, currency: \"USD\"};  // default currency \"USD\"\n\n    // Add quote, chart and purchase to existing portfolio\n    appData[portfolioName].stocks[stockSymbol] = {\"quote\": quote, \"chart\": chart, \"purchase\": purchase};\n\n    return appData;\n}\n\nexport function minimizeDataStocksOnly(stockData, appData, portfolioName) {\n    // Clean data fetched from API for a smaller storage footprint\n    // Does not manipulate purchase date\n\n    const stockSymbol = Object.keys(stockData)[0];\n\n    // Get only the necessary quote data\n    let quote = {};\n    quote[\"companyName\"] = stockData[stockSymbol].quote[\"companyName\"];\n    quote[\"latestPrice\"] = stockData[stockSymbol].quote[\"latestPrice\"];\n\n    // Get only the necessary chart data\n    let chart = {};\n    const chartData = stockData[stockSymbol].chart;\n    for (let key in chartData) {\n        if (chartData.hasOwnProperty(key)) {\n            chart[key] = {\"date\": chartData[key].date, \"close\": chartData[key].close};\n        }\n    }\n\n    // Add quote, chart and purchase to existing portfolio\n    appData[portfolioName].stocks[stockSymbol][\"quote\"] = quote;\n    appData[portfolioName].stocks[stockSymbol][\"chart\"] = chart;\n\n    return appData;\n}","import React from 'react';\nimport './App.css';\nimport {urlBuilder, urlBuilderDate} from \"./api\";\nimport {\n    compareFunctionWDate,\n    dateToChartRange,\n    loadFromLocalStorage,\n    saveToLocalStorage\n} from \"./myFunctions\";\nimport {AddPortfolioModal} from './AddPortfolioModal'\nimport {Portfolio} from \"./Portfolio\";\nimport {minimizeData, minimizeDataStocksOnly} from \"./dataFunctions\";\n\n// TODO: Reuse code segments\n\nconst LOCALSTORAGE_APPDATA_NAME = 'appData';\nconst DEFAULT_USER_PREFS = {showInEuro: false, graphRange: \"6m\"};\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            appData: {},  // All data\n            showAddPortfolioModal: false,\n            loading: false,\n            isUpdating: false,\n        };\n        this.toggleShowAddPortfolioModal = this.toggleShowAddPortfolioModal.bind(this);\n        this.handleAddPortfolio = this.handleAddPortfolio.bind(this);\n        this.handleAddStock = this.handleAddStock.bind(this);\n        this.handleOnUpdate = this.handleOnUpdate.bind(this);\n        this.handleToggleShowInEuro = this.handleToggleShowInEuro.bind(this);\n    }\n\n    // Move these two functions to myFunctions.js\n    // Fetches latest quote and/or chart (historic data) for all stockSymbols\n    dataFetcher(stockSymbols, type, chartRange) {\n        const apiUrl = urlBuilder(stockSymbols, type, chartRange);\n        return fetch(apiUrl)\n            .then(response => {\n                // \"Parse\" json\n                if (response.ok) {\n                    return response.json()\n                } else {\n                    throw new Error(\"Error while fetching from api...\")\n                }\n            })\n            .then(jsonData => {\n                return jsonData;\n            })\n            .catch(error => this.setState({error: error}));\n    }\n    puchasePriceFetcher(stockSymbol, yyyymmdd) {\n        const apiUrl = urlBuilderDate(stockSymbol, yyyymmdd);\n        return fetch(apiUrl)\n            .then(response => {\n                // \"Parse\" json\n                if (response.ok) {\n                    return response.json()\n                } else {\n                    throw new Error(\"Error while fetching from api...\")\n                }\n            })\n            .then(jsonData => {\n                return jsonData[0].close;\n            })\n            .catch(error => this.setState({error: error}));\n    }\n\n    createAndAppendDummyPortfolio(newPortfolioName, stockSymbols, type, chartRange) {\n        /*\n        Creates and appends a whole portfolio at once (with dummy 'purchase' element) to the appData state\n        */\n        console.log(\"==> Creating dummy portfolio '\" + newPortfolioName + \"'\");\n        // dataFetcher uses fetch() so it returns a promise. Therefore newPortfolio.then() to access the result value.\n        const newPortfolio = this.dataFetcher(stockSymbols, type, chartRange);\n        newPortfolio.then(stockData =>\n            {\n                // Add dummy purchase data\n                for (let key in stockData) {\n                    if (stockData.hasOwnProperty(key)) {\n                        stockData[key][\"purchase\"] = {date: \"1970-01-01\", price: 10.00, shares: 7, currency: \"USD\"};\n                    }\n                }\n                // Add portfolio to appData\n                let appData = this.state.appData;\n                appData[newPortfolioName] = {\"stocks\": stockData};\n                // Add currency and graph visualisation range preference\n                appData[newPortfolioName][\"userPrefs\"] = {showInEuro: false, graphRange: \"6m\"};\n                // Set state\n                this.setState(\n                    { appData: appData },\n                    () => {\n                        console.log(\"==> State set. Dummy purchase data added to\" + newPortfolioName);\n                        saveToLocalStorage(this.state.appData, LOCALSTORAGE_APPDATA_NAME);\n                    }\n                )\n            }\n        );\n    }\n    refreshPortfolio(portfolioName) {\n        /*\n        Refresh portfolio data (called on button press)\n        */\n        console.log(\"==> Refreshing portfolio data '\" + portfolioName + \"'\");\n\n        // Copy current portfolio\n        let appData = this.state.appData;\n\n        const stockSymbols = Object.keys(appData[portfolioName].stocks);\n        const type = \"quote,chart\";  // These are the types the application always and only show\n        const chartRange = \"5d\";  // Later improvement to only fetch the missing data to save loading time and server time (power)\n\n        let newStockData = this.dataFetcher(stockSymbols, type, chartRange);\n        newStockData.then(stockData => {\n            for (let stock in stockData) {\n                if (stockData.hasOwnProperty(stock)) {\n                    // Overwrite old stock data\n                    appData[portfolioName].stocks[stock].chart = stockData[stock].chart;\n                }\n            }\n            console.log(\"==> Refreshed portfolio:\" , appData[portfolioName]);\n            this.setState(\n                { appData: appData },\n                () => {\n                    console.log(\"==> Set state with newStockData and range 5d !!!!!!!!!!!!!!!!\");\n                    saveToLocalStorage(this.state.appData, LOCALSTORAGE_APPDATA_NAME);\n                }\n            );\n        });\n    }\n\n    componentDidMount() {\n        /*\n        FIRST TRY LOADING DATA FROM LOCAL STORAGE.\n        IF THERE IS NOTHING IN LOCAL STORAGE THEN LOAD FROM INTERNET (BUT ONLY ON USER INPUT REFRESH/GET/ADD BUTTON)\n         */\n        console.log(\"==> componentDidLoad\");\n        // Load array of portfolio names and all app data from local storage. Throws error if not found and fails silently outputting error only to console.\n        try {\n            const appData = loadFromLocalStorage(LOCALSTORAGE_APPDATA_NAME);  // Trows error if not found\n            this.setState(\n                { appData: appData },\n                () => {\n                    console.log(\"==> State set. Loaded 'portfolios' and 'appData' from local storage\");\n                    console.log(\"==> appData:\", this.state.appData)\n                }\n            );\n        }\n        catch (error) {\n            console.log(\"==>\", error);\n            // *** CREATE DUMMY DATA. DO NOT USE IN PRODUCTION ***\n            /*\n            console.log(\"==> Creating dummy data\");\n            this.createAndAppendDummyPortfolio(\"My Big Portfolio\", [\"AAPL\",\"GOOGL\",\"TWTR\",\"FB\"], 'quote,chart', 'max');\n            this.createAndAppendDummyPortfolio(\"My Big Portfolio 2\", [\"AAPL\",\"GOOGL\",\"TWTR\",\"FB\"], 'quote,chart', 'max');\n            this.createAndAppendDummyPortfolio(\"My Big Portfolio 3\", [\"AAPL\",\"GOOGL\",\"TWTR\",\"FB\"], 'quote,chart', 'max');\n             */\n\n        }\n    }\n\n    toggleShowAddPortfolioModal() {\n        this.setState({ showAddPortfolioModal: !this.state.showAddPortfolioModal });\n    };\n    handleAddPortfolio(newPortfolioName) {\n        // Hide the modal\n        this.toggleShowAddPortfolioModal();\n        // Create new portfolio with no stocks default user preferences.\n        console.log(\"==> Creating new portfolio '\" + newPortfolioName + \"'\");\n        let appData = this.state.appData;\n        appData[newPortfolioName] = {\"userPrefs\": DEFAULT_USER_PREFS};\n        appData[newPortfolioName][\"stocks\"] = {};\n        this.setState(\n            {appData: appData},\n            () => {\n                console.log(\"==> Created new portfolio '\" + newPortfolioName + \"'\");\n                saveToLocalStorage(this.state.appData, LOCALSTORAGE_APPDATA_NAME);\n            }\n        );\n    }\n    handleAddStock(portfolioName, stockSymbol, purchaseDate, purchasePrice, shares) {\n        // Add a new stock to the portfolio in appData and save to local storage.\n        console.log(\"==> Adding stock to\", portfolioName, stockSymbol, purchaseDate, purchasePrice, shares);\n\n        // Calculate the needed chartRange\n        const chartRange = dateToChartRange(purchaseDate);\n        // Fetch chart and quota data\n        const type = 'quote,chart';\n\n        let dataFetcher = this.dataFetcher([stockSymbol], type, chartRange);\n        dataFetcher.then(stockData => {\n            let appData = this.state.appData;\n            appData = minimizeData(\n                stockData,\n                appData,\n                portfolioName,\n                purchaseDate,\n                purchasePrice,\n                shares\n            );\n\n            // Set state and save to local storage\n            this.setState(\n                { appData: appData },\n                () => {\n                    console.log(\"==> State set. Stock data added to '\" + portfolioName + \"'\");\n                    saveToLocalStorage(this.state.appData, LOCALSTORAGE_APPDATA_NAME);\n                }\n            )\n        });\n    }\n    async handleOnUpdate(portfolioName) {\n        // Ad-hoc solution to use async here.\n        // The dataFetcher is asynchronous and therefore needs await.\n        // Since dataFetcher is inside a for loop the loop would not otherwise \"wait\" in the results (.then)\n\n        // Basically the same as handleAddStock\n        console.log(\"==> Updating '\" + portfolioName + \"'\");\n        this.setState({ isUpdating : true });\n\n        let appData = this.state.appData;\n\n        // Update one stock at a time since the purchase dates may wildly vary\n        let stocks = appData[portfolioName].stocks;\n        for (let stock in stocks) {\n            if (stocks.hasOwnProperty(stock)) {\n                console.log(stock);\n                // Calculate the needed chartRange\n                const chartRange = dateToChartRange(stocks[stock].purchase.date);\n                // Fetch chart and quota data\n                const type = 'quote,chart';\n\n                // Fetch the new stock data\n                let dataFetcher = this.dataFetcher([stock], type, chartRange);\n                await dataFetcher.then(stockData => {\n                    console.log(\"then\");\n                    appData = minimizeDataStocksOnly(\n                        stockData,\n                        appData,\n                        portfolioName\n                    );\n                })\n            }\n        }\n\n        // Set state and save to local storage\n        this.setState(\n            { appData: appData, isUpdating: false},\n            () => {\n                console.log(\"==> Portfolio '\" + portfolioName + \"' updated\", appData);\n                saveToLocalStorage(appData, LOCALSTORAGE_APPDATA_NAME);\n            }\n        )\n    }\n    handleToggleShowInEuro(event) {\n        const portfolioName = event.target.name;\n        let appData = this.state.appData;\n        appData[portfolioName].userPrefs[\"showInEuro\"] = !appData[portfolioName].userPrefs[\"showInEuro\"];\n        this.setState({ appData: appData });\n    }\n\n    render() {\n        console.log(\"==> App render\");\n\n        // Get list of portfolios from appData\n        const appData = this.state.appData;\n        let portfolios = [];\n        for (let portfolioName in appData) {\n            if (appData.hasOwnProperty(portfolioName)) {\n                portfolios.push(portfolioName);\n            }\n        }\n\n        // Render portfolios and 'add portfolio' button\n        return (\n            <div className=\"App\">\n                <h1>SPMS</h1>\n                <a href=\"https://iexcloud.io\">Data provided by IEX Cloud</a>\n                <p>15 minute delay in price</p>\n                <button\n                    onClick={this.toggleShowAddPortfolioModal}>\n                    Add portfolio\n                </button>\n                <AddPortfolioModal\n                    show={this.state.showAddPortfolioModal}\n                    onCancel={this.toggleShowAddPortfolioModal}\n                    onAdd={this.handleAddPortfolio}\n                    portfolios={portfolios}>\n                    \"We are the children of this modal\"\n                </AddPortfolioModal>\n                {portfolios.map(portfolioName =>\n                    // Pass portfolio name and portfolio data to the portfolio\n                    <Portfolio\n                        key={portfolioName}\n                        name={portfolioName}\n                        portfolio={appData[portfolioName]}\n                        isUpdating={this.state.isUpdating}\n                        onToggleShowInEuro={this.handleToggleShowInEuro}\n                        onUpdate={this.handleOnUpdate}\n                        onAddStock={this.handleAddStock}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}